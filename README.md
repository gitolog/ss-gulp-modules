
## Подготовка проекта к запуску

Предполагается, что ***GIT*** и **_Node.js_** уже установлены на вашей машине глобально. Если нет, то скачиваем и выполняем установку.
Все команды необходимо набирать в консоли, находясь в корневой папке проекта.

Выполняем из консоли следующую команду (*точка в конце обязательна*):
```
> git clone https://github.com/gitolog/ss-gulp-modules.git .
```
При этом в корень проекта будут скопированы файлы **_gulpfile.js_** и **_package.json_**,необходимые для дальнейшей установки. 

### 1. Устанавливаем Gulp
Если Gulp уже установлен, этот пункт можно пропустить.
```
> npm install -g gulp
```
Ключ **-g** говорит о том, что устанавливается системно.

### 2. Устанавливаем необходимые модули Gulp

```
> npm install --save-dev
```

Будут установлены модули, перечисленые в файле **_package.json_**:

   * **gulp** - Собственно сам планировщик. Будет установлен локально в проект (, так надо)
   * **del** - Модуль Node.js для удаления файлов и папок
   * **gulp-autoprefixer** - CSS-постпроцессор. Автоматически добавляет необходимые вендорные префиксы CSS используя сервис CanIUse.com
   * **gulp-concat** - Плагин для слияния файлов
   * **gulp-imagemin** - Плагин для минификации PNG, JPEG, GIF, SVG
   * **gulp-less** - Компилятор CSS-препроцессора LESS
   * **gulp-load-plugins** - Менеджер установленных плагинов Gulp
   * **gulp-minify-css** - Плагин для минификации CSS
   * **gulp-minify-html** - Плагин для минификации HTML
   * **gulp-notify** - Плагин для вывода сообщений в консоль
   * **gulp-rename** - Плагин для переименования файлов
   * **gulp-uglify** - Плагин для минификации JS-файлов
   * **run-sequence** - Плагин позволяет запускать задачи в любой последовательности как асинхронно, так и синхронно

### 2. Запуск задач Gulp

Выполняемые задачи описаны в файле **_gulpfile.js_**

#### Задача слияния всех CSS
```
> gulp compile:css
```
Будут взяты все файлы LESS и CSS из папки **_/www/css/src_**, скомпилированы, объединены в один файл и помещены в **_/www/css/style.css_**.

#### Задача сжатия CSS
```
> gulp minify:css
```
Все файлы **_*.css_** в папке **_/www/css_** будут сжаты и сохранены в эту же папку под своими именами с добавлением суффикса **_.min_**
Уже сжатые файлы обрабатываться не будут.

#### Задача слияния всех JS
```
> gulp compile:js
```
Будут взяты все JS-файлы из папки **_/www/javascript/src_**, скомпилированы, объединены в один файл и помещены в **_/www/javascript/common.js_**

#### Задача сжатия JS
```
> gulp minify:js
```
Файл **_common.js_** в папке **_/www/javascript_** будет сжат и сохранен в эту же папку под своим именем с добавлением суффикса **_.min_**

#### Задача сжатия IMAGES
```
> gulp minify:images
```
Будут взяты все картинки (JPG, GIF, PNG) из папки **_/www/images/src_**, минифицированы и помещены в **_/www/images_**

#### Сборка и сжатие всего сразу
```
> gulp build
```
Будет выполнены все предыдущие задачи одним махом (компиляция и сжатие CSS, JS и изображений)

#### Удаление сборки
```
> gulp clean
```
Будут удалены: /www/css/style.css, /www/css/style.min.css, /www/javascript/common.js, /www/javascript/common.min.js

#### Слежение за изменениями
```
> gulp
```
Будет удалена предыдущая сборка, выполнится новая компиляция стилей, скриптов и картинок.
При внесении изменений в стили или скрипты будет происходить их компиляция "на лету".

Также, при любых изменениях скриптов, стилей или шаблонов **_*.ftl_**, будет происходить авто-обновление окна браузера.

##### Live reload окна браузера
Для автоматического обновления окна браузера во время редактирования скриптов, стилей и шаблонов необходимо установить плагин LiveReload:

[Плагин для Google Chrome] (https://chrome.google.com/webstore/detail/livereload/jnihajbhpnppcggbcgedagnkighmdlei)

[Плагин для Mozilla Firefox] (https://github.com/downloads/siasia/livereload-extensions/LiveReload-2.0.9.xpi)